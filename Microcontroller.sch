EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 4 5
Title "Microcontroller"
Date "2019-12-19"
Rev "1"
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Device:Crystal_Small Y?
U 1 1 5DFC2DAF
P 2300 3100
F 0 "Y?" H 2300 3325 50  0000 C CNN
F 1 "8MHz" H 2300 3234 50  0000 C CNN
F 2 "Crystals:Crystal_HC49-SD_SMD" H 2300 3100 50  0001 C CNN
F 3 "~" H 2300 3100 50  0001 C CNN
	1    2300 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2850 2950 2450 2950
Wire Wire Line
	2150 2850 2850 2850
$Comp
L Device:C_Small C?
U 1 1 5DFC8494
P 2450 3250
F 0 "C?" H 2542 3296 50  0000 L CNN
F 1 "20p" H 2542 3205 50  0000 L CNN
F 2 "" H 2450 3250 50  0001 C CNN
F 3 "~" H 2450 3250 50  0001 C CNN
	1    2450 3250
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5DFC8FE2
P 2150 3250
F 0 "C?" H 2242 3296 50  0000 L CNN
F 1 "20p" H 2242 3205 50  0000 L CNN
F 2 "" H 2150 3250 50  0001 C CNN
F 3 "~" H 2150 3250 50  0001 C CNN
	1    2150 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 2950 2450 3100
Wire Wire Line
	2150 2850 2150 3100
Wire Wire Line
	2200 3100 2150 3100
Connection ~ 2150 3100
Wire Wire Line
	2150 3100 2150 3150
Wire Wire Line
	2400 3100 2450 3100
Connection ~ 2450 3100
Wire Wire Line
	2450 3100 2450 3150
$Comp
L power:GND #PWR?
U 1 1 5DFC9D55
P 2150 3450
F 0 "#PWR?" H 2150 3200 50  0001 C CNN
F 1 "GND" H 2155 3277 50  0000 C CNN
F 2 "" H 2150 3450 50  0001 C CNN
F 3 "" H 2150 3450 50  0001 C CNN
	1    2150 3450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2150 3350 2150 3400
Wire Wire Line
	2450 3350 2450 3400
Wire Wire Line
	2450 3400 2150 3400
Connection ~ 2150 3400
Wire Wire Line
	2150 3400 2150 3450
$Comp
L Device:C_Small C?
U 1 1 5DFCB4FC
P 2750 2350
F 0 "C?" H 2800 2250 50  0000 L CNN
F 1 "2.2u" H 2775 2450 50  0000 L CNN
F 2 "" H 2750 2350 50  0001 C CNN
F 3 "~" H 2750 2350 50  0001 C CNN
	1    2750 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	2750 2050 2750 2250
$Comp
L Device:C_Small C?
U 1 1 5DFCED55
P 3750 6800
F 0 "C?" H 3350 6850 50  0000 L CNN
F 1 "2.2u" H 3350 6750 50  0000 L CNN
F 2 "" H 3750 6800 50  0001 C CNN
F 3 "~" H 3750 6800 50  0001 C CNN
	1    3750 6800
	1    0    0    -1  
$EndComp
Wire Wire Line
	3750 6650 3750 6700
$Comp
L Device:R_Small R?
U 1 1 5DFD306C
P 2650 1750
F 0 "R?" V 2550 1750 50  0000 C CNN
F 1 "10k" V 2750 1750 50  0000 C CNN
F 2 "" H 2650 1750 50  0001 C CNN
F 3 "~" H 2650 1750 50  0001 C CNN
	1    2650 1750
	0    1    1    0   
$EndComp
Wire Wire Line
	2750 1750 2850 1750
$Comp
L Device:R_Small R?
U 1 1 5DFD42AA
P 2100 1950
F 0 "R?" V 2000 1950 50  0000 C CNN
F 1 "47R" V 2200 1950 50  0000 C CNN
F 2 "" H 2100 1950 50  0001 C CNN
F 3 "~" H 2100 1950 50  0001 C CNN
	1    2100 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	2500 1950 2500 2250
$Comp
L Device:C_Small C?
U 1 1 5DFCE0A8
P 2500 2350
F 0 "C?" H 2550 2250 50  0000 L CNN
F 1 "2.2u" H 2525 2450 50  0000 L CNN
F 2 "" H 2500 2350 50  0001 C CNN
F 3 "~" H 2500 2350 50  0001 C CNN
	1    2500 2350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5DFDAF38
P 2350 2550
F 0 "#PWR?" H 2350 2300 50  0001 C CNN
F 1 "GND" H 2355 2377 50  0000 C CNN
F 2 "" H 2350 2550 50  0001 C CNN
F 3 "" H 2350 2550 50  0001 C CNN
	1    2350 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	2350 1750 2350 2500
Wire Wire Line
	2750 2450 2750 2500
Wire Wire Line
	2750 2500 2500 2500
Connection ~ 2350 2500
Wire Wire Line
	2350 2500 2350 2550
Wire Wire Line
	2500 2450 2500 2500
Connection ~ 2500 2500
Wire Wire Line
	2500 2500 2350 2500
$Comp
L Device:C_Small C?
U 1 1 5DFDD11C
P 2100 2350
F 0 "C?" H 2150 2250 50  0000 L CNN
F 1 "100n" H 2125 2450 50  0000 L CNN
F 2 "" H 2100 2350 50  0001 C CNN
F 3 "~" H 2100 2350 50  0001 C CNN
	1    2100 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 2050 2100 2150
$Comp
L power:VDDA #PWR?
U 1 1 5DFEA319
P 2100 1800
F 0 "#PWR?" H 2100 1650 50  0001 C CNN
F 1 "VDDA" H 2117 1973 50  0000 C CNN
F 2 "" H 2100 1800 50  0001 C CNN
F 3 "" H 2100 1800 50  0001 C CNN
	1    2100 1800
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 1800 2100 1850
Wire Wire Line
	2100 2150 2100 2250
Wire Wire Line
	2350 1750 2550 1750
Wire Wire Line
	2500 1950 2850 1950
Wire Wire Line
	2750 2050 2850 2050
Wire Wire Line
	2850 2150 2100 2150
Connection ~ 2100 2150
$Comp
L power:GNDA #PWR?
U 1 1 5DFF52E4
P 2100 2550
F 0 "#PWR?" H 2100 2300 50  0001 C CNN
F 1 "GNDA" H 2105 2377 50  0000 C CNN
F 2 "" H 2100 2550 50  0001 C CNN
F 3 "" H 2100 2550 50  0001 C CNN
	1    2100 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 2450 2100 2550
$Comp
L power:GND #PWR?
U 1 1 5E00456D
P 3750 7000
F 0 "#PWR?" H 3750 6750 50  0001 C CNN
F 1 "GND" H 3755 6827 50  0000 C CNN
F 2 "" H 3750 7000 50  0001 C CNN
F 3 "" H 3750 7000 50  0001 C CNN
	1    3750 7000
	1    0    0    -1  
$EndComp
Wire Wire Line
	3750 6900 3750 6950
Wire Wire Line
	3550 6650 3550 6950
Wire Wire Line
	3550 6950 3650 6950
Connection ~ 3750 6950
Wire Wire Line
	3750 6950 3750 7000
Wire Wire Line
	3650 6650 3650 6950
Connection ~ 3650 6950
Wire Wire Line
	3650 6950 3750 6950
Wire Wire Line
	3850 6650 3850 6950
Wire Wire Line
	3850 6950 3750 6950
Wire Wire Line
	3950 6650 3950 6950
Wire Wire Line
	3950 6950 3850 6950
Connection ~ 3850 6950
$Comp
L power:GNDA #PWR?
U 1 1 5E00CFFB
P 4050 6950
F 0 "#PWR?" H 4050 6700 50  0001 C CNN
F 1 "GNDA" H 4055 6777 50  0000 C CNN
F 2 "" H 4050 6950 50  0001 C CNN
F 3 "" H 4050 6950 50  0001 C CNN
	1    4050 6950
	1    0    0    -1  
$EndComp
Wire Wire Line
	4050 6650 4050 6950
Text Notes 2600 6700 0    50   ~ 0
only for F405 version\n
Text Notes 2600 6800 0    50   ~ 0
for F401 solder R0
Text GLabel 2550 1550 0    50   Input ~ 0
NRST
$Comp
L power:VDD #PWR?
U 1 1 5E00FED0
P 750 7050
F 0 "#PWR?" H 750 6900 50  0001 C CNN
F 1 "VDD" H 767 7223 50  0000 C CNN
F 2 "" H 750 7050 50  0001 C CNN
F 3 "" H 750 7050 50  0001 C CNN
	1    750  7050
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E010748
P 750 7250
F 0 "C?" H 842 7296 50  0000 L CNN
F 1 "100n" H 842 7205 50  0000 L CNN
F 2 "" H 750 7250 50  0001 C CNN
F 3 "~" H 750 7250 50  0001 C CNN
	1    750  7250
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E010FBF
P 1100 7250
F 0 "C?" H 1192 7296 50  0000 L CNN
F 1 "100n" H 1192 7205 50  0000 L CNN
F 2 "" H 1100 7250 50  0001 C CNN
F 3 "~" H 1100 7250 50  0001 C CNN
	1    1100 7250
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E0112F0
P 1450 7250
F 0 "C?" H 1542 7296 50  0000 L CNN
F 1 "100n" H 1542 7205 50  0000 L CNN
F 2 "" H 1450 7250 50  0001 C CNN
F 3 "~" H 1450 7250 50  0001 C CNN
	1    1450 7250
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E0114F1
P 1800 7250
F 0 "C?" H 1892 7296 50  0000 L CNN
F 1 "100n" H 1892 7205 50  0000 L CNN
F 2 "" H 1800 7250 50  0001 C CNN
F 3 "~" H 1800 7250 50  0001 C CNN
	1    1800 7250
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E0117A7
P 2150 7250
F 0 "C?" H 2242 7296 50  0000 L CNN
F 1 "100n" H 2242 7205 50  0000 L CNN
F 2 "" H 2150 7250 50  0001 C CNN
F 3 "~" H 2150 7250 50  0001 C CNN
	1    2150 7250
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E011BF1
P 2500 7250
F 0 "C?" H 2592 7296 50  0000 L CNN
F 1 "100n" H 2592 7205 50  0000 L CNN
F 2 "" H 2500 7250 50  0001 C CNN
F 3 "~" H 2500 7250 50  0001 C CNN
	1    2500 7250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5E01E6D2
P 750 7450
F 0 "#PWR?" H 750 7200 50  0001 C CNN
F 1 "GND" H 755 7277 50  0000 C CNN
F 2 "" H 750 7450 50  0001 C CNN
F 3 "" H 750 7450 50  0001 C CNN
	1    750  7450
	1    0    0    -1  
$EndComp
Wire Wire Line
	750  7050 750  7100
Wire Wire Line
	750  7350 750  7400
Wire Wire Line
	750  7400 1100 7400
Wire Wire Line
	1100 7400 1100 7350
Connection ~ 750  7400
Wire Wire Line
	750  7400 750  7450
Wire Wire Line
	750  7100 1100 7100
Wire Wire Line
	1100 7100 1100 7150
Connection ~ 750  7100
Wire Wire Line
	750  7100 750  7150
Wire Wire Line
	1100 7100 1450 7100
Wire Wire Line
	2500 7100 2500 7150
Connection ~ 1100 7100
Wire Wire Line
	2500 7350 2500 7400
Wire Wire Line
	2500 7400 2150 7400
Connection ~ 1100 7400
Wire Wire Line
	1450 7350 1450 7400
Connection ~ 1450 7400
Wire Wire Line
	1450 7400 1100 7400
Wire Wire Line
	1800 7350 1800 7400
Connection ~ 1800 7400
Wire Wire Line
	1800 7400 1450 7400
Wire Wire Line
	2150 7350 2150 7400
Connection ~ 2150 7400
Wire Wire Line
	2150 7400 1800 7400
Wire Wire Line
	2150 7150 2150 7100
Connection ~ 2150 7100
Wire Wire Line
	2150 7100 2500 7100
Wire Wire Line
	1800 7150 1800 7100
Connection ~ 1800 7100
Wire Wire Line
	1800 7100 2150 7100
Wire Wire Line
	1450 7150 1450 7100
Connection ~ 1450 7100
Wire Wire Line
	1450 7100 1800 7100
Text Notes 900  7550 0    50   ~ 0
Przy każdym pinie VDD kondensator 100nF
Text Notes 1700 2050 0    50   ~ 0
policzyć
Text Notes 1700 2350 0    50   ~ 0
policzyć
Text GLabel 5000 1550 2    50   Input ~ 0
ENC1_A
Text GLabel 5000 1650 2    50   Input ~ 0
ENC1_B
Wire Wire Line
	4650 1550 5000 1550
Wire Wire Line
	4650 1650 5000 1650
Text GLabel 2500 6050 0    50   Input ~ 0
ENC2_A
Text GLabel 2500 6150 0    50   Input ~ 0
ENC2_B
Wire Wire Line
	2500 6050 2850 6050
Wire Wire Line
	2500 6150 2850 6150
Connection ~ 2650 1550
Wire Wire Line
	2650 1550 2550 1550
Wire Wire Line
	2850 1550 2650 1550
Wire Wire Line
	4150 950  4150 1250
Connection ~ 4150 950 
Wire Wire Line
	4150 950  4350 950 
Wire Wire Line
	4150 850  4150 950 
Wire Wire Line
	4350 1150 4350 1200
$Comp
L power:GNDA #PWR?
U 1 1 5E015704
P 4350 1200
F 0 "#PWR?" H 4350 950 50  0001 C CNN
F 1 "GNDA" H 4355 1027 50  0000 C CNN
F 2 "" H 4350 1200 50  0001 C CNN
F 3 "" H 4350 1200 50  0001 C CNN
	1    4350 1200
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C?
U 1 1 5E014C73
P 4350 1050
F 0 "C?" H 4450 1100 50  0000 L CNN
F 1 "100n" H 4450 1000 50  0000 L CNN
F 2 "" H 4350 1050 50  0001 C CNN
F 3 "~" H 4350 1050 50  0001 C CNN
	1    4350 1050
	1    0    0    -1  
$EndComp
Wire Wire Line
	4050 1200 4050 1250
Wire Wire Line
	3850 1200 3950 1200
Connection ~ 3950 1200
Wire Wire Line
	3950 1250 3950 1200
Wire Wire Line
	3950 1200 4050 1200
Wire Wire Line
	3850 1250 3850 1200
Wire Wire Line
	3750 1100 3750 1200
Wire Wire Line
	3650 1200 3750 1200
Connection ~ 3750 1200
Wire Wire Line
	3750 1250 3750 1200
Connection ~ 3850 1200
Wire Wire Line
	3750 1200 3850 1200
Wire Wire Line
	3650 1250 3650 1200
Connection ~ 3650 1200
Wire Wire Line
	3550 1250 3550 1200
Wire Wire Line
	3550 1200 3650 1200
$Comp
L power:VDDA #PWR?
U 1 1 5DFF67B8
P 4150 850
F 0 "#PWR?" H 4150 700 50  0001 C CNN
F 1 "VDDA" H 4167 1023 50  0000 C CNN
F 2 "" H 4150 850 50  0001 C CNN
F 3 "" H 4150 850 50  0001 C CNN
	1    4150 850 
	1    0    0    -1  
$EndComp
$Comp
L power:VDD #PWR?
U 1 1 5DFF63EE
P 3750 1100
F 0 "#PWR?" H 3750 950 50  0001 C CNN
F 1 "VDD" H 3767 1273 50  0000 C CNN
F 2 "" H 3750 1100 50  0001 C CNN
F 3 "" H 3750 1100 50  0001 C CNN
	1    3750 1100
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 1000 3450 1250
Wire Wire Line
	3250 1000 3450 1000
$Comp
L power:GND #PWR?
U 1 1 5DFF1C54
P 3250 1200
F 0 "#PWR?" H 3250 950 50  0001 C CNN
F 1 "GND" H 3255 1027 50  0000 C CNN
F 2 "" H 3250 1200 50  0001 C CNN
F 3 "" H 3250 1200 50  0001 C CNN
	1    3250 1200
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R?
U 1 1 5DFF0C9F
P 2650 1400
F 0 "R?" V 2550 1400 50  0000 C CNN
F 1 "10k" V 2750 1400 50  0000 C CNN
F 2 "" H 2650 1400 50  0001 C CNN
F 3 "~" H 2650 1400 50  0001 C CNN
	1    2650 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	2650 1250 2650 1300
$Comp
L power:VDD #PWR?
U 1 1 5DFD6268
P 2650 1250
F 0 "#PWR?" H 2650 1100 50  0001 C CNN
F 1 "VDD" H 2667 1423 50  0000 C CNN
F 2 "" H 2650 1250 50  0001 C CNN
F 3 "" H 2650 1250 50  0001 C CNN
	1    2650 1250
	1    0    0    -1  
$EndComp
Wire Wire Line
	2650 1500 2650 1550
$Comp
L Device:C_Small C?
U 1 1 5DFD088E
P 3250 1100
F 0 "C?" H 3000 1150 50  0000 L CNN
F 1 "100n" H 3000 1050 50  0000 L CNN
F 2 "" H 3250 1100 50  0001 C CNN
F 3 "~" H 3250 1100 50  0001 C CNN
	1    3250 1100
	1    0    0    -1  
$EndComp
$Comp
L MCU_ST_STM32F4:STM32F401VETx U?
U 1 1 5DFBBA51
P 3750 3950
F 0 "U?" H 3100 1350 50  0000 C CNN
F 1 "STM32F401VETx" H 4400 1350 50  0000 C CNN
F 2 "Package_QFP:LQFP-100_14x14mm_P0.5mm" H 3050 1450 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00102166.pdf" H 3750 3950 50  0001 C CNN
	1    3750 3950
	1    0    0    -1  
$EndComp
$EndSCHEMATC
